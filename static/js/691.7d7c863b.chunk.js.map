{"version":3,"file":"static/js/691.7d7c863b.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from \"react-router-dom\";\n\nexport const SearchForm = styled.form`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: white;\n    border-radius: normal;\n    overflow: hidden;\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const SearchButton = styled.button`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 6;\n    height: 6;\n    border: 0;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n    &:hover {\n        opacity: 1;\n    }\n`;\n\nexport const SearchInput = styled.input`\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 1px;\n    padding-right: 1px;\n    &::placeholder {\n        font: inherit;\n        font-size: 20px;\n    }\n`;\n\nexport const MovieLink = styled(Link)`\n    text-decoration: none;\n    font-family: Segoe UI;\n    margin-left: 8px;\n    color: #713333;\n    &:hover,\n    &:focus {\n        color: #ea332c;\n        text-decoration: underline #ea332c;\n    }\n`;","import { SearchForm, SearchButton, SearchInput, MovieLink} from \"./Movies.styled\";\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { FaSearch } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport api from 'services/api';\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [isError, setIsError] = useState(false);\n\n    const query = searchParams.get(\"query\") ?? \"\";\n    const location = useLocation();\n\n    useEffect(() => {\n        if (query === '') {\n            return;\n        };\n\n        const getMovies = async () => {\n            try {\n                let movies = await api.fetchMovieSearch(query);\n                movies = movies.map(movie => {\n                    return movie = {\n                        id: movie.id,\n                        title: movie.title,\n                    }\n                });\n                setMovies(movies);\n            } catch (error) {\n                console.log(error);\n                setIsError(true);\n            }\n        }\n\n        getMovies();\n    }, [query])\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        \n        const form = event.currentTarget;\n        setSearchParams({ query: form.elements.query.value.toLowerCase() });\n\n        if (query.trim() === '') {\n            return toast.info(\"Enter a keyword to search for a movie\");\n        }\n\n        form.reset();\n    }\n\n    return (\n        <section>\n            <SearchForm onSubmit={handleSubmit}>\n                <SearchButton type=\"submit\">\n                    <FaSearch size={32}/>\n                </SearchButton>\n\n                <SearchInput\n                    type=\"text\"\n                    name=\"query\"\n                    autocomplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search movies\"\n                />\n            </SearchForm>\n\n            {movies?.length !== 0 &&\n                <ul>\n                    {movies?.map(({ id, title}) => (\n                        <li key={id}>\n                            <MovieLink state={{from: location}} to={`${id}`}>\n                                {title}\n                            </MovieLink>\n                        </li>\n                    ))}\n                </ul>\n            }\n            \n            {isError && toast.error(\"We have error.\")}\n        </section>\n    )\n}\n\nexport default Movies;","import axios from 'axios';\n\nconst moviesAPI = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n});\n\nconst API_KEY = '19de3f69b689775c27a0f6800fa7a97e';\n\n\n// movies trending  список найпопулярніших фільмів на сьогодні для створення колекції на головній сторінці.\nexport const fetchMoviesTrending = async () => {\n    const response = await moviesAPI.get('/trending/movie/day?', {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n\n    return response.data.results;\n}\n\n// movie search пошук фільму за ключовим словом на сторінці фільмів.\nexport const fetchMovieSearch = async (searchQuery) => {\n    const response = await moviesAPI.get('/search/movie?', {\n        params: {\n            api_key: API_KEY,\n            query: searchQuery,\n        },\n    });\n\n    return response.data.results;\n}\n\n// movie info запит повної інформації про фільм для сторінки кінофільму.\nexport const fetchMovieInfo = async (id) => {\n    const response = await moviesAPI.get(`/movie/${id}?`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n\n    return response.data;\n}\n\n//  Movie Cast запит інформації про акторський склад для сторінки кінофільму.\nexport const fetchMovieCast = async (id) => {\n    const response = await moviesAPI.get(`/movie/${id}/credits?`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n\n    return response.data.cast;\n}\n\n// Movie Reviews запит оглядів для сторінки кінофільму.\nexport const fetchMovieReviews = async (id) => {\n    const response = await moviesAPI.get(`/movie/${id}/reviews?`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n\n    return response.data.results;\n}\n\nconst api = {\n    fetchMoviesTrending,\n    fetchMovieSearch,\n    fetchMovieInfo,\n    fetchMovieCast,\n    fetchMovieReviews,\n}\n\nexport default api;"],"names":["SearchForm","styled","SearchButton","SearchInput","MovieLink","Link","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","isError","setIsError","query","get","location","useLocation","useEffect","getMovies","api","map","movie","id","title","console","log","onSubmit","event","preventDefault","form","currentTarget","elements","value","toLowerCase","trim","toast","reset","type","size","name","autocomplete","autoFocus","placeholder","length","state","from","to","moviesAPI","axios","baseURL","API_KEY","fetchMoviesTrending","params","api_key","response","data","results","fetchMovieSearch","searchQuery","fetchMovieInfo","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}